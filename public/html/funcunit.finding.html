<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
		"http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head><script type="text/javascript" src="http://localhost:5555?[]&amp;_=0.2292602772358805"></script>
	<title>Finding Elements</title>
	<link rel="stylesheet" type="text/css" href="../documentjs/jmvcdoc/style.css">
	<link rel="shortcut icon" href="../documentjs/jmvcdoc/images/favicon.ico">
	<script type="text/javascript" src="http://www.google-analytics.com/ga.js"></script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-xxxxx-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<link rel="stylesheet" href="file:////Users/alexisabril/Projects/javascriptmvc-site/javascriptmvc/documentjs/jmvcdoc/style.css" type="text/css"></head><body>
<div id="documentation">
	<div id="top">
		<div class="topCorner">
			<div class="right"></div>
			<div class="left"></div>
		</div>
		<div class="content">
			<div id="searchRoundCorners">
				<div class="jmvcdoc_search"><input id="search" type="input"><span title="clear term" class="remove"></span></div>
			</div>
			<div id="defaults">
				<ul id="menu" class="ui-menu">
					<li class="ui-menu-item">
						<a class="menuLink" href="#favorites"><span class="menuSpan">Favorites</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../follow.html" title="Follow"><span class="menuSpan red">Follow</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../contribute.html" title="Contribute"><span class="menuSpan red">Contribute</span></a>
					</li>
					<li class="ui-menu-item">
						<a class="menuLink" href="../code.html" title="Code"><span class="menuSpan red">Code</span></a>
					</li>
				</ul>
			</div>
			<div class="logo-text"><a href="http://javascriptmvc.com"><img src="../documentjs/jmvcdoc/images/logo80x30.png" class="logo-image"></a></div>
		</div>
		<div class="bottomCorner">
			<div>&nbsp;</div>
		</div>
	</div>
	<div id="bottom">
		<div id="nav" class="jmvcdoc_nav">


	<div id="selected">
		    
				
		<div class="content">
			    <a href="#!" class="selected choice page" style="padding-left: 20px">
			    	
					JavaScriptMVC
					
				</a>
				
		</div>
			
		<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!FuncUnit" class="selected choice class" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					FuncUnit
					
				</a>
				
		</div>
			
			
	</div>

<div id="results" style="display: block">
	<div class="content">
	    
			
		    <a href="#!funcunit.finding" class="result choice page open" style="padding-left: 20px">
		    	Finding Elements
			</a>
			
		
			
		    <a href="#!funcunit.actions" class="result choice page" style="padding-left: 20px">
		    	Actions
			</a>
			
		
			
		    <a href="#!funcunit.waits" class="result choice page" style="padding-left: 20px">
		    	Waits
			</a>
			
		
			
		    <a href="#!funcunit.getters" class="result choice page" style="padding-left: 20px">
		    	Getters &amp; Assertions
			</a>
			
		
			
		    <a href="#!funcunit.integrations" class="result choice page" style="padding-left: 20px">
		    	Integrations
			</a>
			
		
			
		    <a href="#!funcunit.demos" class="result choice page" style="padding-left: 20px">
		    	Demos
			</a>
			
		
			
		    <a href="#!funcunit.remote" class="result choice page" style="padding-left: 20px">
		    	Targeting Remote Sites
			</a>
			
		
			
		    <a href="#!funcunit.features" class="result choice page" style="padding-left: 20px">
		    	Features
			</a>
			
		
			
		    <a href="#!FuncUnit._queue" class="result choice attribute" style="padding-left: 20px">
		    	FuncUnit._queue
			</a>
			
		
			
		    <a href="#!FuncUnit.add" class="result choice function" style="padding-left: 40px">
		    	add
			</a>
			
		
			
		    <a href="#!FuncUnit.branch" class="result choice function" style="padding-left: 40px">
		    	branch
			</a>
			
		
			
		    <a href="#!FuncUnit.browsers" class="result choice attribute" style="padding-left: 40px">
		    	browsers
			</a>
			
		
			
		    <a href="#!FuncUnit.confirm" class="result choice function" style="padding-left: 40px">
		    	confirm
			</a>
			
		
			
		    <a href="#!FuncUnit.eval" class="result choice function" style="padding-left: 40px">
		    	eval
			</a>
			
		
			
		    <a href="#!FuncUnit.FuncUnit._done" class="result choice function" style="padding-left: 40px">
		    	FuncUnit._done
			</a>
			
		
			
			
			
			
			
		    <a href="#!FuncUnit.href" class="result choice attribute" style="padding-left: 40px">
		    	href
			</a>
			
		
			
		    <a href="#!FuncUnit.jmvcRoot" class="result choice attribute" style="padding-left: 40px">
		    	jmvcRoot
			</a>
			
		
			
		    <a href="#!FuncUnit.open" class="result choice function" style="padding-left: 40px">
		    	open
			</a>
			
		
			
		    <a href="#!FuncUnit.prompt" class="result choice function" style="padding-left: 40px">
		    	prompt
			</a>
			
		
			
		    <a href="#!FuncUnit.repeat" class="result choice function" style="padding-left: 40px">
		    	repeat
			</a>
			
		
			
		    <a href="#!FuncUnit.timeout" class="result choice attribute" style="padding-left: 40px">
		    	timeout
			</a>
			
		
			
		    <a href="#!FuncUnit.wait" class="result choice function" style="padding-left: 40px">
		    	wait
			</a>
			
		
			
		    <a href="#!FuncUnit.win" class="result choice attribute" style="padding-left: 40px">
		    	win
			</a>
			
		
			
		    <a href="javascript://" class="result choice prototype" style="padding-left: 40px">
		    	prototype
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.attr" class="result choice function" style="padding-left: 40px">
		    	attr
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.click" class="result choice function" style="padding-left: 40px">
		    	click
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.closest" class="result choice function" style="padding-left: 40px">
		    	closest
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.css" class="result choice function" style="padding-left: 40px">
		    	css
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.data" class="result choice function" style="padding-left: 40px">
		    	data
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.dblclick" class="result choice function" style="padding-left: 40px">
		    	dblclick
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.drag" class="result choice function" style="padding-left: 40px">
		    	drag
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.exists" class="result choice function" style="padding-left: 40px">
		    	exists
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.find" class="result choice function" style="padding-left: 40px">
		    	find
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.first" class="result choice function" style="padding-left: 40px">
		    	first
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.hasClass" class="result choice function" style="padding-left: 40px">
		    	hasClass
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.height" class="result choice function" style="padding-left: 40px">
		    	height
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.html" class="result choice function" style="padding-left: 40px">
		    	html
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.innerHeight" class="result choice function" style="padding-left: 40px">
		    	innerHeight
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.innerWidth" class="result choice function" style="padding-left: 40px">
		    	innerWidth
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.invisible" class="result choice function" style="padding-left: 40px">
		    	invisible
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.last" class="result choice function" style="padding-left: 40px">
		    	last
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.missing" class="result choice function" style="padding-left: 40px">
		    	missing
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.move" class="result choice function" style="padding-left: 40px">
		    	move
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.next" class="result choice function" style="padding-left: 40px">
		    	next
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.offset" class="result choice function" style="padding-left: 40px">
		    	offset
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.outerHeight" class="result choice function" style="padding-left: 40px">
		    	outerHeight
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.outerWidth" class="result choice function" style="padding-left: 40px">
		    	outerWidth
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.position" class="result choice function" style="padding-left: 40px">
		    	position
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.prev" class="result choice function" style="padding-left: 40px">
		    	prev
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.rightClick" class="result choice function" style="padding-left: 40px">
		    	rightClick
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.scroll" class="result choice function" style="padding-left: 40px">
		    	scroll
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.scrollLeft" class="result choice function" style="padding-left: 40px">
		    	scrollLeft
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.scrollTop" class="result choice function" style="padding-left: 40px">
		    	scrollTop
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.siblings" class="result choice function" style="padding-left: 40px">
		    	siblings
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.size" class="result choice function" style="padding-left: 40px">
		    	size
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.text" class="result choice function" style="padding-left: 40px">
		    	text
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.then" class="result choice function" style="padding-left: 40px">
		    	then
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.type" class="result choice function" style="padding-left: 40px">
		    	type
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.val" class="result choice function" style="padding-left: 40px">
		    	val
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.visible" class="result choice function" style="padding-left: 40px">
		    	visible
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.wait" class="result choice function" style="padding-left: 40px">
		    	wait
			</a>
			
		
			
		    <a href="#!FuncUnit.prototype.width" class="result choice function" style="padding-left: 40px">
		    	width
			</a>
			
		
	</div>
</div>


</div>
		<div id="doc_container">
			<div id="doc" class="jmvcdoc_content">
<div class="top">
	<div class="content">
	    <h1>Finding Elements&nbsp;
	    	<span class="page type"><span class="typeEnd">page</span></span>&nbsp;
	    	<span class="favorite favoriteoff">&nbsp;&nbsp;&nbsp;</span></h1>
	    
	    
	    
		
		
		
	</div>	
</div>


<h2>The S Method</h2>

<p>S is a copy of the $ method.  It is used to find elements in the page you're testing.  It works 
slightly differently than $.</p>

<pre><code class="javascript">S( selector, [context] )</code></pre>

<h3>Params</h3>

<p><strong>selector</strong> <code>{String|Function|Object}</code></p>

<p><em>String</em></p>

<p>The S method accepts any valid jQuery selector string, just like $.  One difference from $ is that this 
query will happen in the context of the window of the page you're testing, not the QUnit page where it runs.</p>

<p>Depending on the context in which S is called, this selector may be used immediately and return a jQuery 
collection, or it may cache the selector, which will be used in the asynchronous queue later to find elements 
when previous queued methods have finished.  Read more about this below.</p>

<pre><code class="javascript"><span class="comment">// look up .foo elements in the application window</span>
S(<span class="string">".foo"</span>)</code></pre>

<p><em>Function</em></p>

<p>If a function is provided, it will be added to the queue to be run after previous queued methods.</p>

<pre><code class="javascript"><span class="comment">// Wait for this to be visible</span>
S(<span class="string">".grid"</span>).visible()

<span class="comment">// Run after the previous wait completes</span>
S(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    ok(S(<span class="string">".foo"</span>).hasClass(<span class="string">'bar'</span>))
})</code></pre>

<p><em>Object</em></p>

<p>If you want to reference the test page's window or document, pass <code>S.window</code> 
or <code>S.window.document</code>.</p>

<pre><code class="javascript"><span class="comment">// click the test page's document element</span>
S(S.window.document).click()</code></pre>

<p><strong>[context]</strong> <code>{Number|String}</code></p>

<p>Context is an optional parameter.  If provided, the number or string is used as the 
frame number or name in the document.frames array of the tested page.  The frame is looked up, 
and this is passed as the context of the query.</p>

<pre><code class="javascript">// find something in the 0th frame
S("a.mylink", 0)

// find something within the frame that has name="myframe"
S("a.another, "myframe")</code></pre>

<h3>Synchronous vs asynchronous queries</h3>

<p>As mentioned above, S sometimes performs synchronous queries and returns a jQuery collection object. <br>
Other times, it returns nothing, caches the selector, and adds a method to <a href="#!FuncUnit._queue">FuncUnit._queue</a>.</p>

<p><strong>Synchronous</strong></p>

<p>All <a href="#!funcunit.actions">actions</a> and <a href="#!funcunit.waits">waits</a> are asynchronous commands.  They add themselves to 
[FuncUnit.queue] and run in order.  Each action and wait accepts an optional callback parameter.  This callback 
runs after the queued method completes.</p>

<p>Inside these callbacks, you get information about the page and perform assertions, synchronously. 
Any time S is called inside a callback, it runs synchronously and returns a jQuery collection.</p>

<pre><code class="javascript">S(<span class="string">".foo"</span>).visible(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
  <span class="comment">// this will run immediately and return a $ collection</span>
  <span class="keyword">var</span> size = S(<span class="string">".bar"</span>).size();
  equal(size, <span class="number">5</span>);
})</code></pre>

<p>Inside these callbacks, you can set breakpoints and debug tests.</p>

<p>Sometimes, you want to get information about the page as soon as a test begins.  Later in a callback, 
you can compare this initial value with the current value.</p>

<p>If you call S at the start of a test, it will also run immediately and return a $ collection. Until the first 
item is added to the queue, S will run synchronously.</p>

<pre><code class="javascript">test(<span class="string">"contacts test"</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
  <span class="comment">// runs synchronously</span>
  <span class="keyword">var</span> origNbrItems = S(<span class="string">".contacts"</span>).size();
  S(<span class="string">".addNew"</span>).click(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    <span class="keyword">var</span> newNbrItems = S(<span class="string">".contacts"</span>).size();
    ok(newNbrItems &gt; origNbrItems);
  });
})</code></pre>

<p>Beware that you MUST put any synchronous getters inside a callback or at before any actions or waits.</p>

<pre><code class="javascript">test(<span class="string">"contacts test"</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
  S(<span class="string">".addNew"</span>).click(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    <span class="keyword">var</span> newNbrItems = S(<span class="string">".contacts"</span>).size();
    ok(newNbrItems &gt; origNbrItems);
  });
  <span class="comment">// this will fail!  </span>
  <span class="keyword">var</span> origNbrItems = S(<span class="string">".contacts"</span>).size();
})</code></pre>

<p><strong>Asynchronous</strong></p>

<p>Except for the cases outlined above, the S method needs to run asynchronously in the correct queue order. In this case, doing an 
immediate query and returning a collection would be wasteful and slow down test performance.</p>

<pre><code class="javascript"><span class="comment">// 1. query for .container</span>
<span class="comment">// 2. add a method to the queue that repeatedly checks when .container is visible</span>
S(<span class="string">".container"</span>).visible();

<span class="comment">// 3. when the previous method completes, do a query for .foo</span>
<span class="comment">// 4. click .foo</span>
S(<span class="string">".foo"</span>).click()</code></pre>

<h3>Why S?</h3>

<p>S is a "copy" of $, created using <a href="http://api.jquery.com/jQuery.sub/">jQuery.sub</a>.  All FuncUnit methods, 
like actions, waits, and traversers, are added to S.fn.  All the jQuery methods that FuncUnit doesn't 
overload are callable on S collections. </p>

<p>The reason for this is to preserve jQuery in the test page, unmodified.  If you want to use jQuery, none of 
its methods are modified. jQuery can be used to do unit testing, or to directly access the test page and do 
custom things.</p>

<pre><code class="javascript"><span class="comment">// accessing elements within the test page</span>
ok($(<span class="string">".foo"</span>).hasClass(<span class="string">"bar"</span>))</code></pre>

<h3>Extending S</h3>

<p>Occassionally there will be tests that need some jQuery plugins to run correctly.  To extend S </p>

<ol>
<li>Load your jQuery plugin</li>
<li>Add the plugin method to S.fn</li>
</ol>

<pre><code class="javascript">steal(<span class="string">"funcunit"</span>, <span class="string">"resources/myplugin.js"</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
  S.fn.myplugin = $.fn.myplugin;
  <span class="comment">// test code goes here</span>
})</code></pre>

<p>Most likely this method works synchronously so you have to use it inside a callback, where S is 
returning synchronously.</p>

<pre><code class="javascript"><span class="comment">// inside a wait callback, S returns a jQuery collection</span>
S(<span class="string">".foo"</span>).visible(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
  <span class="comment">// call myplugin on jQuery collection</span>
  <span class="keyword">var</span> els = S(<span class="string">".contact"</span>).myplugin()
})</code></pre>

<h2>Traversing</h2>

<p>FuncUnit provides its own asynchronous versions of jQuery traverser methods 
<a href="#!FuncUnit.prototype.find">find</a>, <a href="#!FuncUnit.prototype.closest">closest</a>, 
<a href="#!FuncUnit.prototype.next">next</a>, <a href="#!FuncUnit.prototype.prev">prev</a>, 
<a href="#!FuncUnit.prototype.siblings">siblings</a>, <a href="#!FuncUnit.prototype.last">last</a>, 
and <a href="#!FuncUnit.prototype.first">first</a>.  The FuncUnit versions add themselves to 
<a href="#!FuncUnit._queue">FuncUnit._queue</a>.  When they are called, they take the current jQuery collection object, 
modify it with their traversal, and pass the result to the next method in the queue.</p>

<pre><code class="javascript"><span class="comment">// click .container, wait for width to be 500px</span>
S(<span class="string">".container"</span>).click().width(<span class="number">500</span>)
  <span class="comment">// find .contact inside container, click it</span>
  .find(<span class="string">".contact"</span>).click()</code></pre></div>
			<div id="disqus_thread" style="display: none; "></div>
		</div>
	</div>
</div>
<div id="low">
	<a href="http://jupiterit.com">ï¿½ Jupiter Consulting - JavaScriptMVC Training and Support</a>
	<a class="api_links" href="http://javascriptmvc.com/docs/api.html#&amp;who=api"></a>
</div>
<script type="text/javascript">
	DOCS_SRC_MAP = {
		'funcunit' : 'https://github.com/jupiterjs/funcunit',
		'jquery' : 'https://github.com/jupiterjs/jquerymx',
		'steal' : 'https://github.com/jupiterjs/steal',
		'documentjs' : 'https://github.com/jupiterjs/documentjs'
	};
	DOCS_LOCATION = "docs/" //adds searchData to this
	JMVCDOC_TIMESTAMP = 264302280
	COMMENTS_LOCATION = 'http://jmvcs3.disqus.com/embed.js';
</script>
<script type="text/javascript" src="../steal/steal.js?documentjs/jmvcdoc">
</script>

<style type="text/css">
  body > iframe { width: 0;} 
  #dsq-content #dsq-form-area .dsq-attach-media-container iframe { height: 13px; padding: 0;}
</style>
	

</body>
</html>
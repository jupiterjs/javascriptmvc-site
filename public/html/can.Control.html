<!DOCTYPE html>
<html lang='en'>
<head><script type="text/javascript" src="http://localhost:5555?[]&amp;_=0.8407439754810184"></script>
	<title>can.Control</title>
	<link rel="stylesheet" type="text/css" href="../documentjs/jmvcdoc/production.css">
	<link rel="shortcut icon" href="../documentjs/jmvcdoc/images/favicon.ico">
	<script type="text/javascript" src="http://www.google-analytics.com/ga.js"></script><script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-2302003-4'],
				['_trackPageview'],
				['_trackPageLoadTime']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

	</script>
<script src="http://jmvcs3.disqus.com/thread.js?url=file:////Users/daff/Jupiter/heroku/donejs/donejs/site/docs.html?steal%5Bbrowser%5D=phantomjs&steal%5BstartFiles%5D=steal/browser/phantomjs/client.js#!can.Control&amp;title=&amp;sort=&amp;per_page&amp;category_id=&amp;developer=0&amp;identifier=#!can.Control&amp;disqus_version=1338845651&amp;1338911069516" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/build/system//defaults.css"><script src="http://mediacdn.disqus.com/1338845651/build/system/disqus.js?" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/uploads/themes/7884a9652e94555c70f96b6be63be216/theme.css?252"><script src="http://jmvcs3.disqus.com/thread.js?url=file:////Users/daff/Jupiter/heroku/donejs/donejs/site/docs.html?steal%5Bbrowser%5D=phantomjs&steal%5BstartFiles%5D=steal/browser/phantomjs/client.js#!&amp;title=&amp;sort=&amp;per_page&amp;category_id=&amp;developer=0&amp;identifier=#!&amp;disqus_version=1338845651&amp;1338911071570" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/build/system//defaults.css"><script src="http://mediacdn.disqus.com/1338845651/build/system/disqus.js?" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/uploads/themes/7884a9652e94555c70f96b6be63be216/theme.css?252"><script src="http://jmvcs3.disqus.com/thread.js?url=file:////Users/daff/Jupiter/heroku/donejs/donejs/site/docs.html?steal%5Bbrowser%5D=phantomjs&steal%5BstartFiles%5D=steal/browser/phantomjs/client.js#!canjs&amp;title=&amp;sort=&amp;per_page&amp;category_id=&amp;developer=0&amp;identifier=#!canjs&amp;disqus_version=1338845651&amp;1338911073322" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/build/system//defaults.css"><script src="http://mediacdn.disqus.com/1338845651/build/system/disqus.js?" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/uploads/themes/7884a9652e94555c70f96b6be63be216/theme.css?252"><script src="http://jmvcs3.disqus.com/thread.js?url=file:////Users/daff/Jupiter/heroku/donejs/donejs/site/docs.html?steal%5Bbrowser%5D=phantomjs&steal%5BstartFiles%5D=steal/browser/phantomjs/client.js#!can.Control&amp;title=&amp;sort=&amp;per_page&amp;category_id=&amp;developer=0&amp;identifier=#!can.Control&amp;disqus_version=1338845651&amp;1338911075109" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/build/system//defaults.css"><script src="http://mediacdn.disqus.com/1338845651/build/system/disqus.js?" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="http://mediacdn.disqus.com/1338845651/uploads/themes/7884a9652e94555c70f96b6be63be216/theme.css?252"></head><body>
<div id="documentation">
	<div id="top">
		<div class="content">
			<div id="searchRoundCorners">
				<div class="jmvcdoc_search"><input id="search" type="input"><span title="clear term" class="remove"></span></div>
			</div>
			<div id="defaults">
				<ul id="menu" class="ui-menu"></ul>
			</div>
		</div>
	</div>
	<div id="bottom">
		<div id="nav" class="jmvcdoc_nav">

	<div id="selected">
		    
				
		<div class="content">
			    <a href="#!" class="selected choice page" style="padding-left: 20px">
			    	
					DoneJS
				</a>
				
		</div>
			
				<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!canjs" class="selected choice page" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					CanJS
				</a>
				
		</div>
			
				<div class="spacer"><div>&nbsp;</div></div>
			
			
				
		<div class="content">
			    <a href="#!can.Control" class="selected choice class" style="padding-left: 20px">
			    	
						<span class="remove" title="close"></span>
					
					can.Control
				</a>
				
		</div>
			
			
	</div>

<div id="results" style="display: block">
	<div class="content">
	    
			
		    <a href="#!can.Control.plugin" class="result choice page" style="padding-left: 40px" data-name="can.Control.plugin">
		    	
					plugin
				
			</a>
			
		
			
		    <a href="#!can.Control.route" class="result choice page" style="padding-left: 40px" data-name="can.Control.route">
		    	
					route
				
			</a>
			
		
			
		    <a href="#!can.Control.view" class="result choice page" style="padding-left: 40px" data-name="can.Control.view">
		    	
					view
				
			</a>
			
		
			
		    <a href="javascript://" class="result choice prototype" style="padding-left: 40px" data-name="can.Control.prototype">
		    	
					prototype
				
			</a>
			
		
			
		    <a href="#!can.Control.prototype.destroy" class="result choice function" style="padding-left: 60px" data-name="can.Control.prototype.destroy">
		    	
					destroy
				
			</a>
			
		
			
		    <a href="#!can.Control.prototype.element" class="result choice attribute" style="padding-left: 60px" data-name="can.Control.prototype.element">
		    	
					element
				
			</a>
			
		
			
			
		    <a href="#!can.Control.prototype.on" class="result choice function" style="padding-left: 60px" data-name="can.Control.prototype.on">
		    	
					on
				
			</a>
			
		
			
		    <a href="#!can.Control.prototype.options" class="result choice attribute" style="padding-left: 60px" data-name="can.Control.prototype.options">
		    	
					options
				
			</a>
			
		
			
		    <a href="#!can.Control.prototype.setup" class="result choice function" style="padding-left: 60px" data-name="can.Control.prototype.setup">
		    	
					setup
				
			</a>
			
		
			
		    <a href="javascript://" class="result choice static" style="padding-left: 40px" data-name="can.Control.static">
		    	
					static
				
			</a>
			
		
			
			
			
		    <a href="#!can.Control.static.defaults" class="result choice attribute" style="padding-left: 60px" data-name="can.Control.static.defaults">
		    	
					defaults
				
			</a>
			
		
			
		    <a href="#!can.Control.static.processors" class="result choice attribute" style="padding-left: 60px" data-name="can.Control.static.processors">
		    	
					processors
				
			</a>
			
		
			
	</div>
</div></div>
		<div id="doc_container">
			<div id="doc" class="jmvcdoc_content candoc_content_helpers_demo candoc_content_helpers_iframe candoc_content_helpers_api candoc_content_helpers_highlight candoc_content_helpers_image candoc_content_helpers_disqus"><div class="top">
	<div class="content">
	    <h1>can.Control&nbsp;
	    	<span class="class type"><span class="typeEnd">class</span></span>&nbsp;
	    	<span class="favorite favoriteoff">&nbsp;&nbsp;&nbsp;</span></h1>
	    
	    <div class="inherits">
	        inherits: <a href="#&amp;who=can.Construct">can.Construct</a>
	    </div>
	    
	    
	    
	    <div class="plugin">
	        plugin: can/control
	    </div>
	    
		
	    <div class="download">
	        download: <a href="http://jmvcsite.heroku.com/pluginify?plugins[]=can/control/control.js"> can.Control</a>
	    </div>
	    
		
	    <div class="test">
	        test: <a href="file:////Users/daff/Jupiter/heroku/donejs/donejs/can/control/qunit.html">qunit.html</a>
	    </div>
	    
		
	</div>
</div>
<p>can.Control helps create organized, memory-leak free, rapidly performing,
stateful controls. Use it to create UI controls like tabs, grids, and context menus,
and organize them into higher-order business rules with
<a href="#!can.route">can.route</a>. It can serve as both a traditional view and a traditional controller.</p>

<h2>Todo Example</h2>

<p>Here is an example of how to build a simple tab widget using can.Control:</p>

<div class="demo_wrapper" data-demo-src="can/control/control.html"><div class="demo">
  <h3 class="demo_header header reset">
    <span class="ui-icon ui-icon-triangle-1-s"></span>
    <a href="javascript://">Demo</a>
  </h3>
  <div class="demo_content content" style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 5px; height: 115px; ">
    <iframe height="100%" frameborder="0" src="file:////Users/daff/Jupiter/heroku/donejs/donejs/can/control/control.html" style="height: 110px; "></iframe>
  </div>
  <h3 class="html_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">HTML</a>
  </h3>
  <div class="html_content content" style="display: none"><pre><code class="html"><span class="tag">&lt;<span class="keyword">ul</span><span class="attribute"> id=<span class="value">"tabs"</span></span><span class="attribute"> class=<span class="value">"tabs ui-helper-clearfix"</span></span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#tab1"</span></span>&gt;</span>Model<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#tab2"</span></span>&gt;</span>View<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
  <span class="tag">&lt;<span class="keyword">li</span>&gt;</span><span class="tag">&lt;<span class="keyword">a</span><span class="attribute"> href=<span class="value">"#tab3"</span></span>&gt;</span>Controller<span class="tag">&lt;/<span class="keyword">a</span>&gt;</span><span class="tag">&lt;/<span class="keyword">li</span>&gt;</span>
<span class="tag">&lt;/<span class="keyword">ul</span>&gt;</span>
<span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"tab1"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
	Model Content
<span class="tag">&lt;/<span class="keyword">div</span>&gt;</span>
<span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"tab2"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
	View Content
<span class="tag">&lt;/<span class="keyword">div</span>&gt;</span>
<span class="tag">&lt;<span class="keyword">div</span><span class="attribute"> id=<span class="value">"tab3"</span></span><span class="attribute"> class=<span class="value">"tab"</span></span>&gt;</span>
	Controller Content
<span class="tag">&lt;/<span class="keyword">div</span>&gt;</span></code></pre></div>
  <h3 class="source_header header reset">
    <span class="ui-icon ui-icon-triangle-1-e"></span>
    <a href="javascript://">Source</a>
  </h3>
  <div class="source_content content" style="display: none"><pre><code class="javascript"></code></pre></div>
</div></div>

<h2>Creating a Control</h2>

<p>The following example builds up a basic todos widget for listing 
and completing todo items. Start by creating a control constructor 
function of your own by extending can.Control:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control({
  init: <span class="function"><span class="keyword">function</span><span class="params">( element, options )</span> {</span>
    <span class="keyword">var</span> self = <span class="keyword">this</span>;
    Todo.findAll( {}, <span class="function"><span class="keyword">function</span><span class="params">( todos )</span> {</span>
      self.element.html( <span class="string">'todos.ejs'</span>, todos );
    });
  }
});
</code></pre>

<p>Create an instance of the Todos control on the <code>todos</code> element with:</p>

<pre><code class=" javascript"><span class="keyword">var</span> todosControl = <span class="keyword">new</span> Todos( <span class="string">'#todos'</span>, {} );
</code></pre>

<p>The control's associated <a href="#!can.EJS">EJS</a> template looks like:</p>

<pre><code class=" javascript">&lt;% list( todos, <span class="function"><span class="keyword">function</span><span class="params">( todo )</span> {</span> %&gt;
  &lt;li &lt;%= (el) -&gt; el.data( <span class="string">'todo'</span>, todo ) %&gt; &gt;
    &lt;%= todo.attr( <span class="string">'name'</span> ) %&gt;
    &lt;a href=<span class="string">"javascript://"</span> class=<span class="string">"destroy"</span>&gt;
  &lt;/li&gt;
&lt;% }) %&gt;
</code></pre>

<h2>init <code>can.Control.prototype.init( element, options )</code></h2>

<p><code>init</code> is called when a new can.Control instance is created. It is called with:</p>

<ul>
<li><strong>element</strong> - The wrapped element passed to the 
            control. Control accepts a
            raw HTMLElement, a CSS selector, or a NodeList. This is
            set as <strong>this.element</strong> on the control instance.</li>
<li><strong>options</strong> - The second argument passed to new Control, extended with
            the can.Control's static <strong>defaults</strong>. This is set as 
            <strong>this.options</strong> on the control instance.</li>
</ul>

<p>and any other arguments passed to <code>new can.Control()</code>. For example:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control({
  defaults : { view: <span class="string">'todos.ejs'</span> }
}, {
  init: <span class="function"><span class="keyword">function</span><span class="params">( element , options )</span> {</span>
    <span class="keyword">var</span> self = <span class="keyword">this</span>;
    Todo.findAll( {}, <span class="function"><span class="keyword">function</span><span class="params">( todos )</span> {</span>
        self.element.html( self.options.view, todos );
    });
  }
});

<span class="comment">// create a Todos with default options</span>
<span class="keyword">new</span> Todos( document.body.firstElementChild );

<span class="comment">// overwrite the template option</span>
<span class="keyword">new</span> Todos( $( <span class="string">'#todos'</span> ), { template: <span class="string">'specialTodos.ejs'</span> } );
</code></pre>

<h2>element <code>this.element</code></h2>

<p><a href="#!can.Control.prototype.element">can.Control::element</a> is the 
NodeList consisting of the element the control is created on. </p>

<pre><code class=" javascript"><span class="keyword">var</span> todosControl = <span class="keyword">new</span> Todos( document.body.firstElementChild );
todosControl.element[<span class="number">0</span>] <span class="comment">//-&gt; document.body.firstElementChild</span>
</code></pre>

<p>Each library wraps elements differently. If you are using jQuery, for example,
the element is wrapped with <code>jQuery( element )</code>.</p>

<h2>options <code>this.options</code></h2>

<p><a href="#!can.Control.prototype.options">can.Control::options</a> is the second argument passed to 
<code>new can.Control()</code>, merged with the control's static <strong>defaults</strong> property.</p>

<h2>Listening to events</h2>

<p>Control automatically binds prototype methods that look
like event handlers. Listen to <strong>click</strong>s on <code>&lt;li&gt;</code> elements like:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control({
  init: <span class="function"><span class="keyword">function</span><span class="params">( element , options )</span> {</span>
    <span class="keyword">var</span> self = <span class="keyword">this</span>;
    Todo.findAll( {}, <span class="function"><span class="keyword">function</span><span class="params">( todos )</span> {</span>
      self.element.html( self.options.template, todos );
    });
  },

  <span class="string">'li click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( li, event )</span> {</span>
    console.log( <span class="string">'You clicked'</span>, li.text() );

    <span class="comment">// let other controls know what happened</span>
    li.trigger( <span class="string">'selected'</span> );
  }
});
</code></pre>

<p>When an <code>&lt;li&gt;</code> is clicked, <code>"li click"</code> is called with:</p>

<ul>
<li>The library-wrapped <strong>element</strong> that was clicked</li>
<li>The <strong>event</strong> data</li>
</ul>

<p>Control uses event delegation, so you can add <code>&lt;li&gt;</code>s without needing to rebind
event handlers.</p>

<p>To destroy a todo when its <code>&lt;a href="javascript://" class="destroy"&gt;</code> link 
is clicked:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control({
  init: <span class="function"><span class="keyword">function</span><span class="params">( element, options )</span> {</span>
    <span class="keyword">var</span> self = <span class="keyword">this</span>;
    Todo.findAll( {}, <span class="function"><span class="keyword">function</span><span class="params">( todos )</span> {</span>
      self.element.html( self.options.template, todos );
    });
  },

  <span class="string">'li click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( li )</span> {</span>
    li.trigger( <span class="string">'selected'</span>, li.model() );
  },

  <span class="string">'li .destroy click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( el, ev )</span> {</span>
    <span class="comment">// get the li element that has todo data</span>
    <span class="keyword">var</span> li = el.closest( <span class="string">'li'</span> );

    <span class="comment">// get the model</span>
    <span class="keyword">var</span> todo = li.data( <span class="string">'todo'</span> );

    <span class="comment">//destroy it</span>
    todo.destroy();
  }
});
</code></pre>

<p>When the todo is destroyed, EJS's live binding will remove its LI automatically.</p>

<h2>Templated Event Handlers Part 1 <code>"{eventName}"</code></h2>

<p>Customize event handler behavior with <code>"{NAME}"</code> in
the event handler name.  The following allows customization 
of the event that destroys a todo:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control( <span class="string">'Todos'</span>, {
  init: <span class="function"><span class="keyword">function</span><span class="params">( element , options )</span> {</span> ... },

  <span class="string">'li click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( li )</span> {</span> ... },

  <span class="string">'li .destroy {destroyEvent}'</span>: <span class="function"><span class="keyword">function</span><span class="params">( el, ev )</span> {</span> 
    <span class="comment">// previous destroy code here</span>
  }
});

<span class="comment">// create Todos with this.options.destroyEvent</span>
<span class="keyword">new</span> Todos( <span class="string">'#todos'</span>, { destroyEvent: <span class="string">'mouseenter'</span> } );
</code></pre>

<p>Values inside <code>{NAME}</code> are looked up on the control's <code>this.options</code> first,
and then the <code>window</code>. For example, we could customize it instead like:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control( <span class="string">'Todos'</span>, {
  init: <span class="function"><span class="keyword">function</span><span class="params">( element , options )</span> {</span> ... },

  <span class="string">'li click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( li )</span> {</span> ... },

  <span class="string">'li .destroy {Events.destroy}'</span>: <span class="function"><span class="keyword">function</span><span class="params">( el, ev )</span> {</span> 
    <span class="comment">// previous destroy code here</span>
  }
});

<span class="comment">// Events config</span>
Events = { destroy: <span class="string">'click'</span> };

<span class="comment">// Events.destroy is looked up on the window.</span>
<span class="keyword">new</span> Todos( <span class="string">'#todos'</span> );
</code></pre>

<p>The selector can also be templated.</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control( <span class="string">'Todos'</span>, {
  init: <span class="function"><span class="keyword">function</span><span class="params">( element , options )</span> {</span> ... },

  <span class="string">'{listElement} click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( li )</span> {</span> ... },

  <span class="string">'{listElement} .destroy {destroyEvent}'</span>: <span class="function"><span class="keyword">function</span><span class="params">( el, ev )</span> {</span> 
    <span class="comment">// previous destroy code here</span>
  }
});

<span class="comment">// create Todos with this.options.destroyEvent</span>
<span class="keyword">new</span> Todos( <span class="string">'#todos'</span>,  { 
  destroyEvent: <span class="string">'mouseenter'</span>, 
  listElement: <span class="string">'li'</span> 
} );
</code></pre>

<h2>Templated Event Handlers Part 2 <code>"{objectName}"</code></h2>

<p>Control can also bind to objects other than <code>this.element</code> with
templated event handlers.  This is <em>critical</em>
for avoiding memory leaks that are so common among MVC applications.  </p>

<p>If the value inside <code>{NAME}</code> is an object, Control will bind to that
object to listen for events. For example, the following tooltip listens to 
clicks on the window:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Tooltip = can.Control({
  <span class="string">'{window} click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( el, ev )</span> {</span>
    <span class="comment">// hide only if we clicked outside the tooltip</span>
    <span class="keyword">if</span> ( !<span class="keyword">this</span>.element.has( ev.target ) ) {
      <span class="keyword">this</span>.element.remove();
    }
  }
});

<span class="comment">// create a Tooltip</span>
<span class="keyword">new</span> Tooltip( $( <span class="string">'&lt;div&gt;INFO&lt;/div&gt;'</span> ).appendTo( el ) );
</code></pre>

<p>This is convenient when listening for model changes. If EJS were not
taking care of removing <code>&lt;li&gt;</code>s after their associated models were destroyed,
we could implement it in <code>Todos</code> like:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Todos = can.Control({
  init: <span class="function"><span class="keyword">function</span><span class="params">( element, options )</span> {</span>
    <span class="keyword">var</span> self = <span class="keyword">this</span>;
    Todo.findAll( {}, <span class="function"><span class="keyword">function</span><span class="params">( todos )</span> {</span>
      self.todosList = todos;
      self.element.html( self.options.template, todos );
    });
  },

  <span class="string">'li click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( li )</span> {</span>
    li.trigger( <span class="string">'selected'</span>, li.model() );
  },

  <span class="string">'li .destroy click'</span>: <span class="function"><span class="keyword">function</span><span class="params">( el, ev )</span> {</span>
    <span class="comment">// get the li element that has todo data</span>
    <span class="keyword">var</span> li = el.closest( <span class="string">'li'</span> );

    <span class="comment">// get the model</span>
    <span class="keyword">var</span> todo = li.data( <span class="string">'todo'</span> );

    <span class="comment">//destroy it</span>
    todo.destroy();
  },

  <span class="string">'{Todo} destroyed'</span>: <span class="function"><span class="keyword">function</span><span class="params">( Todo, ev, todoDestroyed )</span> {</span>
    <span class="comment">// find where the element</span>
    <span class="keyword">var</span> index = <span class="keyword">this</span>.todosList.indexOf( todoDestroyed );
    <span class="keyword">this</span>.element.children( <span class="string">':nth-child('</span> + ( index + <span class="number">1</span> ) + <span class="string">')'</span> )
                .remove();
  }
});

<span class="keyword">new</span> Todos( <span class="string">'#todos'</span> );
</code></pre>

<h2>destroy <code>control.destroy()</code></h2>

<p><a href="#!can.Control.prototype.destroy">can.Control::destroy</a> unbinds a control's
event handlers and releases its element, but does not remove 
the element from the page. </p>

<pre><code class=" javascript"><span class="keyword">var</span> todo = <span class="keyword">new</span> Todos( <span class="string">'#todos'</span> );
todo.destroy();
</code></pre>

<p>When a control's element is removed from the page
<strong>destroy</strong> is called automatically.</p>

<pre><code class=" javascript"><span class="keyword">new</span> Todos( <span class="string">'#todos'</span> );
$( <span class="string">'#todos'</span> ).remove();
</code></pre>

<p>All event handlers bound with Control are unbound when the control 
is destroyed (or its element is removed).</p>

<p><em>Brief aside on destroy and templated event binding. Taken 
together, templated event binding, and control's automatic
clean-up make it almost impossible 
to write leaking applications. An application that uses
only templated event handlers on controls within the body
could free up all 
data by calling <code>$(document.body).empty()</code>.</em></p>

<h2>on <code>control.on()</code></h2>

<p><a href="#!can.Control.prototype.on">can.Control::on</a> rebinds a control's event handlers. This is useful when you want
to listen to a specific model and change it:</p>

<pre><code class=" javascript"><span class="keyword">var</span> Editor = can.Control({
  todo: <span class="function"><span class="keyword">function</span><span class="params">( todo )</span> {</span>
    <span class="keyword">this</span>.options.todo = todo;
    <span class="keyword">this</span>.on();
    <span class="keyword">this</span>.setName();
  },

  <span class="comment">// a helper that sets the value of the input</span>
  <span class="comment">// to the todo's name</span>
  setName: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">this</span>.element.val( <span class="keyword">this</span>.options.todo.name );
  },

  <span class="comment">// listen for changes in the todo</span>
  <span class="comment">// and update the input</span>
  <span class="string">'{todo} updated'</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">this</span>.setName();
  },

  <span class="comment">// when the input changes</span>
  <span class="comment">// update the todo instance</span>
  <span class="string">'change'</span>: <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="keyword">var</span> todo = <span class="keyword">this</span>.options.todo;
    todo.attr( <span class="string">'name'</span>, <span class="keyword">this</span>.element.val() );
    todo.save();
  }
});

<span class="keyword">var</span> todo1 = <span class="keyword">new</span> Todo({ id: <span class="number">6</span>, name: <span class="string">'trash'</span> }),
    todo2 = <span class="keyword">new</span> Todo({ id: <span class="number">6</span>, name: <span class="string">'dishes'</span> });

<span class="comment">// create the editor;</span>
<span class="keyword">var</span> editor = <span class="keyword">new</span> Editor( <span class="string">'#editor'</span> );

<span class="comment">// show the first todo</span>
editor.todo( todo1 );

<span class="comment">// switch it to the second todo</span>
editor.todo( todo2 );
</code></pre>

<p>Here's the full todo list manager in action:</p>

<div class="iframe_wrapper" data-iframe-src="can/test/demo.html" data-iframe-height="400"><iframe src="file:////Users/daff/Jupiter/heroku/donejs/donejs/can/test/demo.html" height="400"></iframe></div>


  <div class="params">
  
    
 
 </div></div>
			<div id="disqus_thread" style="display: block; "><div id="dsq-content-stub"><img width="71" height="17" alt="DISQUS" src="data:image/png;base64,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"><img width="16" height="11" alt="..." src="data:image/gif;base64,R0lGODlhEAALAPQAAP///z2LqeLt8dvp7u7090GNqz2LqV+fuJ/F1IW2ycrf51aatHWswaXJ14i4ys3h6FmctUCMqniuw+vz9eHs8fb5+meku+Tu8vT4+cfd5bbT3tbm7PH2+AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA" style="margin:0 0 3px 5px"></div><div id="dsq-content" style="display: none; "></div></div>
		</div>
	</div>
</div>
<div id="low">
	<a href="http://bitovi.com">ï¿½ Bitovi Consulting - DoneJS Training and Support</a>
	<a class="api_links" href="http://bitovi.com/docs/api.html#&amp;who=api"></a>
</div>
<script type="text/javascript">
	DOCS_SRC_MAP = {
		'funcunit' : 'https://github.com/jupiterjs/funcunit',
		'jquery' : 'https://github.com/jupiterjs/jquerymx',
		'steal' : 'https://github.com/jupiterjs/steal',
		'documentjs' : 'https://github.com/jupiterjs/documentjs',
		mxui : 'https://github.com/jupiterjs/mxui'
	};
	DOCS_LOCATION = "docs/" //adds searchData to this
	JMVCDOC_TIMESTAMP = 1338911000257;
	COMMENTS_LOCATION = 'http://jmvcs3.disqus.com/embed.js';
	steal = {
		loaded: ['documentjs/jmvcdoc/production.css']
	}
</script>
<script type="text/javascript" src="../steal/steal.production.js?documentjs/jmvcdoc">
</script>

<style type="text/css">
	body > iframe { width: 0;}
	#dsq-content #dsq-form-area .dsq-attach-media-container iframe { height: 13px; padding: 0;}
</style>


</body>
</html>
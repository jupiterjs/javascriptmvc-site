c({"name": "jQuery.event.fastfix", "type": "page", "comment": "<p><code>jQuery.event.fastfix</code> provides a faster <code>jQuery.event.fix</code> using ES 5 Getters first introduced in\n<a href=\"http://bitovi.com/blog/2012/04/faster-jquery-event-fix.html\">this blog post</a>.</p>\n\n<h2>How jQuery Normalizes Events</h2>\n\n<p>When an event is received by jQuery, it <strong>normalizes</strong> the event properties before it\ndispatches the event to registered event handlers.  <strong>Normalizing</strong> means, that it makes sure\nthe event handler properties are the same across all browsers. For example,\nIE does not support <code>event.relatedTarget</code>, instead IE  provides <code>event.toElement</code> and <code>event.fromElement</code>.\njQuery uses those properties to set a <code>relatedTarget</code> property.</p>\n\n<p>Event handlers won't be receiving the original event. Instead they are getting a new\n<a href=\"http://api.jquery.com/category/events/event-object/\">jQuery.Event</a> object with properties copied from\nthe raw HTML event. jQuery does this because it can't set properties on a raw HTML event.</p>\n\n<p>You can get the raw event with <code>originalEvent</code> like:</p>\n\n<pre><code>$(\"#clickme\").bind(\"click\", function( ev ) {\n  ev.originalEvent\n})\n</code></pre>\n\n<p>jQuery creates and normalizes the <code>jQuery.Event</code> from the raw event in <code>jQuery.event.fix</code>.</p>\n\n<h2>Using ES5 getters</h2>\n\n<p><code>jQuery.event.fastfix</code> uses ECMAScript 5 getters for browsers that <a href=\"http://kangax.github.com/es5-compat-table/\">support Object.defineProperty</a>,\nwhich allows <code>jQuery.event.fix</code> to avoid copying every property and normalizing it for every event.\nInstead getters can do this on-demand. That is, they can lookup the <code>originalEvent</code>'s value and normalize it if needed.\n<code>jQuery.event.fastfix</code> goes through the list of properties that <code>jQuery.event.fix</code> copies and creates getters for each one.</p>\n\n<p>In the getter, it checks if that property is special (needs normalizing) and uses that properties special\nfunction to normalize the value.</p>\n\n<h2>Performance</h2>\n\n<p>A <a href=\"http://jsperf.com/jquery-event-fix/6\">basic JSPerf</a> of <code>jQuery.event.fastfix</code> shows a\n3 to 4 times performance improvement compared to the original <code>jQuery.event.fix</code>. Since event handling\nand <code>jQuery.event.fix</code> are usually a major part of the runtime of a jQuery application including <code>jQuery.event.fastfix</code>\ncan bring you significant performance improvements in modern browsers.</p>", "parents": ["jquerypp"], "src": "jquery/event/fastfix/fastfix.md", "children": []})
c({"name": "funcunit.waits", "type": "page", "comment": "<p>Wait commands are used to check conditions of your page. The test checks a condition repeatedly \nuntil its either true or a timeout period is reached.</p>\n\n<h2>Wait commands</h2>\n\n<p>Wait commands are overloaded jQuery methods.  Just like jQuery methods are both setters and \ngetters, depending on how many arguments are passed, FuncUnit wait commands are either waits or \ngetters depending on arguments.</p>\n\n<h3>Single argument waits</h3>\n\n<p>Most wait commands only require a single argument.</p>\n\n<p><code>wait( checkVal, [timeout], [callback], [message] )</code></p>\n\n<ul>\n<li>[FuncUnit.prototype.size size]</li>\n<li>[FuncUnit.prototype.html html]</li>\n<li>[FuncUnit.prototype.text text]</li>\n<li>[FuncUnit.prototype.val val]</li>\n<li>[FuncUnit.prototype.offset offset]</li>\n<li>[FuncUnit.prototype.position position]</li>\n<li>[FuncUnit.prototype.scrollTop scrollTop]</li>\n<li>[FuncUnit.prototype.scrollLeft scrollLeft]</li>\n<li>[FuncUnit.prototype.height height]</li>\n<li>[FuncUnit.prototype.width width]</li>\n<li>[FuncUnit.prototype.innerWidth innerWidth]</li>\n<li>[FuncUnit.prototype.innerHeight innerHeight]</li>\n<li>[FuncUnit.prototype.outerWidth outerWidth]</li>\n<li>[FuncUnit.prototype.outerHeight outerHeight]</li>\n</ul>\n\n<pre><code class='javascript'>// wait until there are 5 .foo elements\nS(\".foo\").size(5)\n\n// wait until .container has 500px height\nS(\".container\").height(500)\n\n// wait until .banner's text is \"Done\"\nS(\".banner\").text(\"Done\")</code></pre>\n\n<h3>Two argument waits</h3>\n\n<p>Some jQuery methods accept 2 parameters.  Similarly, those wait methods accept two arguments.</p>\n\n<p><code>wait( keyVal, checkVal, [timeout], [callback], [message] )</code></p>\n\n<ul>\n<li>[FuncUnit.prototype.data data]</li>\n<li>[FuncUnit.prototype.attr attr]</li>\n<li>[FuncUnit.prototype.hasClass hasClass]</li>\n<li>[FuncUnit.prototype.css css]</li>\n</ul>\n\n<pre><code class='javascript'>// wait until $.data for .foo on the key \"count\" has 2\nS(\".foo\").data(\"count\", 2)\n\n// wait until .contact has class \"bar\"\nS(\".contact\").hasClass(\"bar\", true)\n\n// wait until .container has font-color red\nS(\".container\").css(\"font-color\", \"red\")</code></pre>\n\n<h3>Zero argument waits</h3>\n\n<p>Several wait methods check for existence/visibility of elements. These require zero parameters.</p>\n\n<p><code>wait( [timeout], [callback], [message] )</code></p>\n\n<ul>\n<li>[FuncUnit.prototype.exists exists]</li>\n<li>[FuncUnit.prototype.missing missing]</li>\n<li>[FuncUnit.prototype.visible visibile]</li>\n<li>[FuncUnit.prototype.invisible invisible]</li>\n</ul>\n\n<pre><code class='javascript'>// wait until the .foo element is removed\nS(\".foo\").missing();</code></pre>\n\n<h2>Tester function</h2>\n\n<p>Instead of checking for a simple static value, tests can provide their own tester method. The tester \nmethod's arguments are whatever the wait normally accepts.  It returns true when the condition is met, \nafter which the next wait or action begins.</p>\n\n<pre><code class='javascript'>var initialWidth = S(\"#sliderMenu\").width();\n\n// wait until width is at least 200px\nS(\"#sliderMenu\").width(function( width ) {\n  return width >= 200;\n})</code></pre>\n\n<p>The tester method will be called repeatedly until it returns true, or the timeout is reached.</p>\n\n<h2>Timeout</h2>\n\n<p>By default, wait commands will wait a 10s timeout period.  If the condition isn't true after that time, \nthe test will fail.  </p>\n\n<p>You can provide your own (optional) timeout for each wait condition as the parameter after \nthe wait condition.  For example, the following will check if \"#trigger\" contains \"I was triggered\" for \n5 seconds before failing the test.</p>\n\n<pre><code class='javascript'>(\"#trigger\").text(\"I was triggered\", 5000)</code></pre>\n\n<p>The [FuncUnit.timeout] property is a global timeout value.  Its value sets the default timeout if a value isn't \nprovided.</p>\n\n<h2>Callback</h2>\n\n<p>Another optional parameter for each wait command is a callback method, which runs after the wait completes.</p>\n\n<p>Inside a callback is the place to get information about a page and perform assertions. Callbacks are \nalso useful for debugging.</p>\n\n<pre><code class='javascript'>S(\".foo\").text(\"bar\", function(){\n  // runs after wait condition completes\n})</code></pre>\n\n<h2>Message</h2>\n\n<p>The last (optional) parameter for each wait command is a message.  By default, wait conditions will pass silently (without a passed assertion). <br />\nIf a user provides a message string, the wait condition will pass an assertion with the given message when the wait completes.  If the wait fails \n(the timeout is reached), this message will be provided to the failed assertion.</p>\n\n<pre><code class='javascript'>S(\".foo\").text(\"bar\", \"the foo element has text bar\")</code></pre>", "title": "Waits", "parents": ["FuncUnit"], "order": 3, "src": "funcunit/pages/waits.md", "children": []})
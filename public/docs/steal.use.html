<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>JavaScriptMVC - Using steal </title>
	<meta name="description" content="">
	<meta name="author" content="">

	<link rel="stylesheet" type="text/css" 
		
			href="./static/production.css"
		 />
	<!--[if lt IE 9]>
   <script type="text/javascript" src="./static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand canjs" href="./index.html">JavaScriptMVC</a>
				<ul class="dropdown-menu">
					<li><a href="http://javascriptmvc.com">JavaScriptMVC</a></li>
					<li class="active"><a href="./index.html">CanJS</a></li>
					<li><a href="http://jquerypp.com">jQuery++</a></li>
					<li><a href="http://javascriptmvc.com/docs/stealjs.html">StealJS</a></li>
					<li><a href="http://javascriptmvc.com/docs/FuncUnit.html">FuncUnit</a></li>
					<li><a href="http://javascriptmvc.com/docs/DocumentJS.html">DocumentJS</a></li>
				</ul>
			</div>
			<ul class="nav">
				<li><a href="/index.html">Home</a></li>
				<li class="active"><a href="/docs/index.html">Docs</a></li>
				<li><a href="http://forum.javascriptmvc.com">Forums</a></li>
				<li><a href="http://github.com/bitovi/javascriptmvc">Code</a></li>
				<li><a href="http://twitter.com/javascriptmvc">Twitter</a></li>
				<li><a href="/dist/javascriptmvc-3.3.zip">Download</a></li>
			</ul>
			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<div class="container api">
	<nav class="sidebar">
		
		<div class="search-wrapper">
			<div class="search">
				<input type="text"/>
			</div>
		</div>
		
		<ul class="api cascading primary-grouping"> 
	
		
		<li class="search-container active parent">
			<a href="index.html" data-search="JavaScriptMVC">
				JavaScriptMVC
			</a>
		</li>
		
		
			<li class="search-container active">
			<a href="stealjs.html" data-search="StealJS">
				StealJS
			</a>
			
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="function" href="steal.html" data-search="steal">
						steal
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="steal.build.html" data-search="steal.build">
						steal.build
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="steal.clean.html" data-search="steal.clean">
						steal.clean
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="steal.coffee.html" data-search="steal.coffee">
						steal.coffee
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="steal.dev.html" data-search="steal.dev">
						steal.dev
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="steal.generate.html" data-search="steal.generate">
						steal.generate
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="steal.html.html" data-search="steal.html">
						steal.html
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="steal.less.html" data-search="steal.less">
						steal.less
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="steal.packages.html" data-search="steal.packages">
						steal.packages
					</a>
				</li>
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>Pages</span>
						
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="page" href="stealjs.installing.html" data-search="Installing StealJS">
						Installing StealJS
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container active">
					<a class="page" href="steal.use.html" data-search="Using steal">
						Using steal
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="stealjs.building.html" data-search="Building">
						Building
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="stealjs.deploying.html" data-search="Deploying">
						Deploying
					</a>
				</li>
				
			
			
		
	</ul>


					</li>
					
				
				
			
			
		
	</ul>


		</li>
		
	
</ul>

	</nav>
	<article class="content docs">
		<section class="title">
			<div class="pull-right">
	<ul class="tags">
		<li>page</li>
	</ul>
	<ul class="links">
		
			<li><a href="">source</a></li>
		
		
			
		
		
	</ul>
</div>

<h1>
Using steal

	
		<span class="module">steal.use</span>
	


</h1>

<span class="inherits">&nbsp;</span>

		</section>

		<section class="contents">
		</section>

		<section class="description">
			<p>Learn how to load <a href="steal.module.html">modules</a>, scripts and styles. </p>
		</section>

		

		

		
		<section class="comment">
			<p>After <a href="stealjs.installing.html">installing StealJS</a>, you will 
have <strong>steal/steal.js</strong>. This provides the <a href="steal.html">steal</a> function that
loads scripts, css, and other
modules into your like:</p>

<pre><code>steal('jquery','can',function($, can){

})
</code></pre>

<p>To use steal effectively, you need to know how to:</p>

<ul>
<li>Add steal.js to your page</li>
<li>Configure steal's behavior</li>
<li>Load modules</li>
<li>Return module values</li>
</ul>

<p>We will go into each of these in detail, but first lets
look at a quick example.</p>

<h2>Quick Example</h2>

<p>The following walks through the steps to create an application
that loads a JavaScript and <a href="http://lesscss.org/">LESS</a> module.</p>

<p>The resulting folder structure will look like:</p>

<pre><code>ROOT/
  steal/
    steal.js
    ...
  myapp/
    myapp.js
    myapp.less
    mymodule.js
    index.html
  stealconfig.js
</code></pre>

<p>Follow these steps 5:</p>

<p><strong>0.</strong> Create <code>myapp</code>, its contents, and <code>stealconfig.js</code>.</p>

<p><strong>1.</strong> Add a script tag to <strong>index.html</strong>  that 
loads <code>steal/steal.js</code> and add
the path to the first file to load in the query string like:</p>

<pre><code>&lt;script src='../steal/steal.js?myapp/myapp.js'&gt;
&lt;/script&gt;
</code></pre>

<p><strong>2.</strong> In <strong>stealconfig.js</strong>, configure steal to load
the less engine for any modules ending in <code>.less</code> like:</p>

<pre><code>steal.config({
  ext: {
    less: "steal/less/less.js"
  }
})
</code></pre>

<p><strong>3.</strong> Add the following to <strong>mymodule.js</strong>:</p>

<pre><code>steal(function(){
  return function(element){
    element.innerHTML = "Hello World"
    element.className = "welcome"
  }
})
</code></pre>

<p><code>myapp/mymodule.js</code>'s module value is a function that
sets an element's contents and changes its class attribute to "welcome".</p>

<p>Add the following to <strong>myapp.less</strong>:</p>

<pre><code>@dark #228022;
.welcome {
  color: @dark;
}
</code></pre>

<p><code>myapp/myapp.less</code> adds a <code>.welcome</code> style to the app.</p>

<p><strong>4.</strong> Add the following to <strong>myapp/myapp.js</strong>:</p>

<pre><code>steal("./mymodule.js","./myapp.less",function(mymodule){
  mymodule(document.body)
})
</code></pre>

<p><strong>5.</strong> Open <strong>index.html</strong>, you should 
find <span style="color: #228022">Hello World</span>. </p>

<p>Read on to understand setting up steal in detail.</p>

<h2>Add steal.js to your page</h2>

<p>The first step to using steal is to 
add <code>steal/steal.js</code> to your page. </p>

<pre><code>&lt;script src='../public/steal/steal.js'&gt;
&lt;/script&gt;
</code></pre>

<blockquote>
  <p><em>PRO TIP: Bottom load your scripts. It
  will increase your application's percieved response time.</em></p>
</blockquote>

<p>With this, you can start stealing modules. For example,
you could load jQuery from a CDN in a following
script tag like:</p>

<pre><code>&lt;script src='../public/steal/steal.js'&gt;
&lt;/script&gt;
&lt;script&gt;
steal('http://cdn.com/jquery-1.8.3.js',function(){
   $
})
&lt;/script&gt;
</code></pre>

<p>The folder that contains the <code>steal</code> folder is
the <a href="steal.config.root.html">rootfolder</a>. By default, all modules are loaded 
from the root folder unless they start with:</p>

<ul>
<li>"http://" or "https://" like "http://foo.com/bar.js"</li>
<li>"/" like <code>"/bar.js"</code></li>
</ul>

<p>So the following would load <code>public/component.js</code>:</p>

<pre><code>&lt;script&gt;
steal('http://cdn.com/jquery-1.8.3.js',
  'component.js',
  function(){

})
&lt;/script&gt;
</code></pre>

<p>Although, your HTML pages that load steal can
exist anywhere can be served up dynamically, it's 
best to have all your JavaScript, CSS, and other static
resources in the <a href="rootfolder.html">root folder</a>. </p>

<p>But steal allows you to configure pretty much everything as we will see ...</p>

<h2>Configure steal's behavior</h2>

<p><a href="steal.config.html">steal.config</a>(configOptions) allows you to 
change the behavior of how steal loads modules. <code>steal.config</code>
allows you to set rules that:</p>

<ul>
<li>Apply for all modules. (<em>ex: changing the location of the root folder</em>)</li>
<li>Apply for a single moduleId. (<em>ex: 'steal/dev/dev.js' should not be added to production</em>)</li>
<li>Apply to startup. (<em>ex: load <code>myapp/myapp.js</code> as the first JS module</em>)</li>
</ul>

<p>You can find a full list of options in <a href="steal.config.html">steal.config's docs</a>,
but the most common configuration options are:</p>

<ul>
<li><strong>startFile</strong> - the first moduleId to load. Example: <code>"myapp/myapp.js"</code>.</li>
<li><strong>env</strong> - the environment the page is 
running in: <code>"development"</code> or <code>"production"</code>. By default, env is development.</li>
</ul>

<p>For any application that you intend to <a href="steal.build.html">build</a>, 
<code>startFile</code> and <strong>env</strong> need to be set.</p>

<p>You can set configOptions in a variety ways:</p>

<p><strong>Set startFile and env in the script tag</strong></p>

<p>You can set startFile and env the queryparams of steal like:</p>

<pre><code>&lt;script src='../steal/steal.js?STARTFILE,ENV'&gt;
&lt;/script&gt;
</code></pre>

<p>For example:</p>

<pre><code>&lt;script src='../steal/steal.js?cookbook,production'&gt;
&lt;/script&gt;
</code></pre>

<p>If you load <code>steal/steal.production.js</code> the environment defaults
to production:</p>

<pre><code>&lt;script src='../steal/steal.production.js?cookbook'&gt;
&lt;/script&gt;
</code></pre>

<p><strong>Call <code>steal.config(stealConfig)</code></strong></p>

<p>After <code>steal.js</code> is loaded and run, you can call steal.config
anywhere in the application.  However, after <code>steal.js</code> loads,
it automatically loads <code>stealconfig.js</code> before it loads 
anything else. <code>stealconfig.js</code> is the best place to 
configure settings that should be applied to all 
projects.</p>

<p><strong>A <code>steal</code> object that exists before <code>steal.js</code> is loaded</strong></p>

<p>If a <code>steal</code> object exists before <code>steal.js</code> is loaded,
steal will internally call <code>steal.config</code> with that 
object.  For example:</p>

<pre><code>&lt;script&gt;
steal = {
  executed: "myapp/production.css"
}
&lt;/script&gt;
&lt;script src='../steal/steal.production.js,myapp'&gt;
&lt;/script&gt;
</code></pre>

<h2>Load modules</h2>

<p>Use <code>steal(ids...)</code> to load dependent 
modules. Ids might look like:</p>

<pre><code>// in myapp/myapp.js
steal('components/item',
      'person.js',
      './view.ejs')
</code></pre>

<p>Steal uses <a href="steal.id.html">steal.id</a> to convert the id passed to steal
into a moduleId. It then uses <a href="steal.idToUri.html">steal.idToUri</a> to
convert that moduleId into a URI to load the resource.</p>

<p>The behavior of <a href="steal.id.html">steal.id</a> and <a href="steal.idToUri.html">steal.idToUri</a> can
be configured by steal.config's <a href="steal.config.map.html">map</a> and 
<a href="steal.config.paths.html">paths</a> options. But the default behavior is 
as follows:</p>

<ul>
<li>"components/item" is found in <code>ROOT/components/item/item.js</code></li>
<li>"person.js" is found in <code>ROOT/person.js</code></li>
<li>"./view.ejs" is found in <code>ROOT/myapp/view.ejs</code></li>
</ul>

<p>It is possible to use:</p>

<ul>
<li>a url like: <code>"http://cdn.com/foo.js"</code></li>
<li>a path relative to the domain like: <code>"/foo.js"</code></li>
</ul>

<p>But, we STRONGLY encourage you to use moduleId's and <a href="steal.config.html">steal.config</a>
to adjust the lookup path for resources outside stealroot.</p>

<h2>Return module values</h2>

<p>After the optional list of moduleIds, you can pass steal
a "definition" function. For example:</p>

<pre><code>// in myapp/myapp.js
steal('components/item',
      'person.js',
      './view.ejs', 

      function(item, Person, viewEJS){

          return MODULEVALUE;

      })
</code></pre>

<p>The "definition" function gets called with
each dependent module's value 
and can optionally return a module value of its
own. Your code goes in the definition function.</p>

<p>If a module doesn't return a value, undefined
is passed to the definition function.</p>
		</section>
		

		
	</article>
</div>



	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
		</nav>
	</footer>
	<script type="text/javascript">
		window.Bitovi = {
			URL: {
				BUILDER: '',
				BUILDER_DATA: '',
				BITHUB: '',
				CDN: ''
			}
		}
		steal = {
			productionId: "production.js",
			executed: ["documentjs/site/static/build/production.css"]
		}
	</script>
	<p></p>
	<script 
	
		src="./static/steal.production.js"
	
		></script>
</body>

</html>
